<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manipulación de DOMs</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app"></div>
        <button class="btnAgregar">+</button>
        <button class="btnModificar">✎</button>
        <button class="btnEliminar">x</button>
        <div id ="cards">

        </div>
    </div>
    <script>
        const app = document.getElementById('app');
        const cards = document.getElementById('cards');
        const botonAgregar = document.querySelector('.btnAgregar');
        const botonEliminar = document.querySelector('.btnEliminar');
        const botonModificar = document.querySelector('.btnModificar');
        const botonEnviar = document.createElement('button');

        function agregarElemento()
        {
            const nuevaCard = document.createElement('div');
            nuevaCard.classList.add('card');
            const imagenCard = document.createElement('img');
            imagenCard.textContent = "imagen";
            const tituloCard = document.createElement('h2');
            tituloCard.textContent = "Titulo";
            const descripcionCard = document.createElement('p');
            descripcionCard.textContent = "Descripción";
            nuevaCard.appendChild(tituloCard);
            nuevaCard.appendChild(descripcionCard);
            cards.appendChild(nuevaCard);
        }
        function eliminarElemento()
        {
            const eliminarCard = document.querySelector('.card');
            eliminarCard.parentNode.removeChild(eliminarCard);
        }
        function modificarElemento()
        {
            //crear input de titulo
            const titulo = document.querySelector('h2');
            const card = document.querySelector('.card');
            const nuevoInputTitulo = document.createElement('input');
            nuevoInputTitulo.classList.add('EditarTitulo');
            nuevoInputTitulo.placeholder = titulo.textContent;
            titulo.parentNode.removeChild(titulo);
            card.appendChild(nuevoInputTitulo);
            
            // Crear input de descripción
            const descripcion = document.querySelector('p');
            const nuevoInputDescripcion = document.createElement('input');
            nuevoInputDescripcion.classList.add('EditarDescripcion');
            nuevoInputDescripcion.placeholder = descripcion.textContent;
            descripcion.parentNode.removeChild(descripcion);
            card.appendChild(nuevoInputDescripcion);


            // crear boton de guardado
            botonEnviar.textContent='enviar';
            card.appendChild(botonEnviar);
            
        }

        function guardar()
        {
            //Llamo al card
            const guardarCard=document.querySelector('.card');
            //modifico el titulo predeterminado
            const nuevoTitulo = document.createElement('h2');
            const inputTitulo=document.querySelector('.EditarTitulo');
            nuevoTitulo.textContent=inputTitulo.value;
            //modifico la descripcion predeterminada
            const nuevaDescripcion=document.createElement('p');
            const inputDescripcion=document.querySelector('.EditarDescripcion');
            nuevaDescripcion.textContent=inputDescripcion.value;
            //remplazo la descripcion
            guardarCard.replaceChild(nuevaDescripcion, inputDescripcion);
            //remplazo el titulo
            guardarCard.replaceChild(nuevoTitulo, inputTitulo);
            
            botonEnviar.textContent = 'enviar';
            botonEnviar.classList.add('enviar');
            guardarCard.removeChild(botonEnviar);

       }

        botonEnviar.addEventListener('click',guardar);
        botonModificar.addEventListener('click',modificarElemento);
        botonAgregar.addEventListener('click',agregarElemento);
        botonEliminar.addEventListener('click',eliminarElemento);
    </script>
</body>
</html>